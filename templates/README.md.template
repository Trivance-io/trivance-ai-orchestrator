# ğŸš€ Trivance Platform - Workspace Multi-Repo

**Workspace completo** para desarrollo de Trivance Platform con **gestiÃ³n automÃ¡tica de environments** y **arquitectura hÃ­brida Docker + PM2**.

## ğŸ—ï¸ Estructura del Workspace

```
ğŸ“ Trivance Platform/
â”œâ”€â”€ ğŸŒ level_up_backoffice/          # Frontend Admin (React + Vite) - PM2
â”œâ”€â”€ ğŸš€ ms_level_up_management/       # API Backend (NestJS + GraphQL) - Docker  
â”œâ”€â”€ ğŸ” ms_trivance_auth/             # Auth Service (NestJS) - Docker
â”œâ”€â”€ ğŸ“± trivance-mobile/              # Mobile App (React Native + Expo)
â”œâ”€â”€ ğŸ”§ trivance-dev-config/          # Configuraciones y scripts
â””â”€â”€ ğŸ“„ envs/                         # Configuraciones por environment
```

## ğŸ³ Arquitectura HÃ­brida Docker + PM2

- **ğŸ—„ï¸ Bases de Datos**: PostgreSQL y MongoDB en Docker
- **ğŸš€ APIs Backend**: NestJS en contenedores Docker
- **ğŸŒ Frontend**: React con PM2 para hot-reload instantÃ¡neo
- **ğŸ“± Mobile**: Expo con conexiÃ³n automÃ¡tica a APIs Docker

## âš¡ QUICK START (5 minutos)

### 1ï¸âƒ£ **Setup Inicial (Solo una vez)**
```bash
# Ya hecho automÃ¡ticamente durante la configuraciÃ³n inicial
# Si necesitas reconfigurar:
./trivance-dev-config/scripts/envs.sh switch local
```

### 2ï¸âƒ£ **Iniciar Servicios**
```bash
# Comando principal - menÃº interactivo
./start.sh

# O directamente iniciar servicios
./start.sh start
```

### 3ï¸âƒ£ **Â¡Listo! URLs de Desarrollo**
- **ğŸŒ Frontend Admin**: http://localhost:5173 (PM2)
- **ğŸš€ Management API**: http://localhost:3000 (Docker)
- **ğŸ” Auth Service**: http://localhost:3001 (Docker)
- **ğŸ“Š GraphQL Playground**: http://localhost:3000/graphql (Docker)
- **ğŸ—„ï¸ PostgreSQL**: localhost:5432 (Docker)
- **ğŸ—„ï¸ MongoDB**: localhost:27017 (Docker)
- **ğŸ“± Mobile App**: `cd trivance-mobile && npm run start:docker`

## ğŸ›ï¸ GESTIÃ“N DE ENVIRONMENTS

### Cambiar Environment en UN Comando
```bash
# Desarrollo local (99% del tiempo)
./trivance-dev-config/scripts/envs.sh switch local

# Testing en QA
./trivance-dev-config/scripts/envs.sh switch qa

# Production (con confirmaciÃ³n)
./trivance-dev-config/scripts/envs.sh switch production
```

### Ver Estado del Sistema
```bash
# Status completo
./trivance-dev-config/scripts/envs.sh status

# Ayuda
./trivance-dev-config/scripts/envs.sh help
```

## ğŸ“š DOCUMENTACIÃ“N

- **ğŸ“– [ENVIRONMENTS.md](ENVIRONMENTS.md)** - GuÃ­a completa de environments
- **ğŸ”§ [CLAUDE.md](CLAUDE.md)** - ConfiguraciÃ³n para Claude Code
- **ğŸ“ [envs/README.md](envs/README.md)** - Configuraciones especÃ­ficas

## ğŸ†˜ COMANDOS DE EMERGENCIA

```bash
# Parar todos los servicios
./start.sh stop

# Reset completo a local
./trivance-dev-config/scripts/envs.sh switch local

# Verificar health
./start.sh status

# Comandos Docker especÃ­ficos
docker ps                    # Ver contenedores
docker logs trivance_auth    # Ver logs especÃ­ficos
docker-compose -f trivance-dev-config/docker/docker-compose.yaml down
```