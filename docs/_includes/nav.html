<!-- Main site navigation -->
<header class="site-header" role="banner">
  <div class="site-nav-wrapper">

    <!-- Site title/logo -->
    <div class="site-title-container">
      <a class="site-title" href="{{ '/' | relative_url }}">
        <span class="site-logo">‚ö°</span>
        {{ site.title | default: "Documentaci√≥n Claude Code" }}
      </a>
    </div>

    <!-- Desktop Navigation -->
    <nav class="site-nav desktop-nav" role="navigation" aria-label="Navegaci√≥n principal">
      <ul class="nav-list">
        {%- if site.data.docs.sections -%}
          {%- for section in site.data.docs.sections -%}
            <li class="nav-item">
              <a href="{{ section.url | relative_url }}"
                 class="nav-link {% if page.url contains section.id %}current{% endif %}"
                 style="--section-color: {{ section.color_theme }};">
                <span class="nav-icon nav-icon-{{ section.icon }}"></span>
                <span class="nav-text">{{ section.title }}</span>
              </a>

              {%- comment -%}
              Dropdown submenu for section pages (optional)
              {%- endcomment -%}
              {%- if section.pages and section.pages.size > 1 -%}
                <ul class="nav-submenu">
                  {%- for doc_page in section.pages -%}
                    <li class="nav-subitem">
                      <a href="{{ section.url | append: doc_page.id | append: '/' | relative_url }}"
                         class="nav-sublink {% if page.id == doc_page.id %}current{% endif %}">
                        {{ doc_page.title }}
                      </a>
                    </li>
                  {%- endfor -%}
                </ul>
              {%- endif -%}
            </li>
          {%- endfor -%}
        {%- endif -%}

        <!-- Additional nav items -->
        <li class="nav-item nav-item-external">
          <a href="{{ site.data.docs.external_links.github.url }}"
             class="nav-link nav-link-external"
             target="_blank"
             rel="noopener">
            <span class="nav-icon nav-icon-github"></span>
            <span class="nav-text">GitHub</span>
            <span class="external-indicator">‚Üó</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle"
            data-mobile-menu-toggle
            aria-expanded="false"
            aria-controls="mobile-navigation"
            aria-label="Abrir men√∫ de navegaci√≥n">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

  </div>

  <!-- Mobile Navigation -->
  <nav class="mobile-nav"
       data-mobile-nav
       id="mobile-navigation"
       role="navigation"
       aria-label="Navegaci√≥n m√≥vil">

    <!-- Mobile Search -->
    <div class="mobile-search">
      {%- include search.html mobile=true -%}
    </div>

    <!-- Mobile Menu Items -->
    <ul class="mobile-nav-list">
      {%- if site.data.docs.sections -%}
        {%- for section in site.data.docs.sections -%}
          <li class="mobile-nav-item">
            <a href="{{ section.url | relative_url }}"
               class="mobile-nav-link {% if page.url contains section.id %}current{% endif %}"
               style="--section-color: {{ section.color_theme }};">
              <span class="nav-icon nav-icon-{{ section.icon }}"></span>
              <div class="nav-content">
                <span class="nav-title">{{ section.title }}</span>
                <span class="nav-description">{{ section.description }}</span>
              </div>
            </a>

            {%- if section.pages -%}
              <ul class="mobile-nav-submenu">
                {%- for doc_page in section.pages -%}
                  <li class="mobile-nav-subitem">
                    <a href="{{ section.url | append: doc_page.id | append: '/' | relative_url }}"
                       class="mobile-nav-sublink {% if page.id == doc_page.id %}current{% endif %}">
                      {{ doc_page.title }}
                    </a>
                  </li>
                {%- endfor -%}
              </ul>
            {%- endif -%}
          </li>
        {%- endfor -%}
      {%- endif -%}

      <!-- Mobile External Links -->
      <li class="mobile-nav-item mobile-nav-divider">
        <span class="mobile-nav-section-title">Enlaces Externos</span>
      </li>

      {%- if site.data.docs.external_links -%}
        {%- for link in site.data.docs.external_links -%}
          <li class="mobile-nav-item">
            <a href="{{ link[1].url }}"
               class="mobile-nav-link mobile-nav-external"
               target="_blank"
               rel="noopener">
              <span class="nav-icon nav-icon-{{ link[0] }}"></span>
              <div class="nav-content">
                <span class="nav-title">{{ link[1].label }}</span>
                <span class="external-indicator">‚Üó</span>
              </div>
            </a>
          </li>
        {%- endfor -%}
      {%- endif -%}
    </ul>

  </nav>

  <!-- Mobile overlay -->
  <div class="mobile-overlay" data-mobile-overlay></div>

</header>

<!-- Navigation Icons CSS (inline for performance) -->
<style>
  /* Navigation Icons */
  .nav-icon {
    display: inline-block;
    width: 1.2em;
    height: 1.2em;
    margin-right: 0.5em;
    vertical-align: text-top;
  }

  .nav-icon-terminal::before { content: "‚å®Ô∏è"; }
  .nav-icon-users::before { content: "üë•"; }
  .nav-icon-workflow::before { content: "üîÑ"; }
  .nav-icon-best-practices::before { content: "‚≠ê"; }
  .nav-icon-github::before { content: "üêô"; }
  .nav-icon-documentation::before { content: "üìö"; }

  /* Fallback for when icons aren't available */
  .nav-icon-terminal::before { content: var(--icon, "‚å®Ô∏è"); }
  .nav-icon-users::before { content: var(--icon, "üë•"); }
  .nav-icon-workflow::before { content: var(--icon, "üîÑ"); }
  .nav-icon-best-practices::before { content: var(--icon, "‚≠ê"); }

  /* Hide text when icon is sufficient (mobile space saving) */
  @media (max-width: 480px) {
    .mobile-nav .nav-icon {
      margin-right: 0.3em;
    }
  }
</style>

<!-- Skip to main content link for accessibility -->
<a class="skip-link" href="#main-content">Saltar al contenido principal</a>